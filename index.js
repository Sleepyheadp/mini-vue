// [ç–‘é—®ðŸ¤”]ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ES6çš„importå¯¼å…¥,è€Œæ˜¯ç”¨requireå¯¼å…¥
const { effect, reactive } = require("@vue/reactivity");
// v1:åŸºç¡€åŠŸèƒ½å®žçŽ°ç‰ˆæœ¬
// let a = 10;
// let b = a + 1;
// console.log(b);
// a = 20;
// b = a + 1;
// console.log(b);

// v2:æŠŠå®žçŽ°åŠŸèƒ½éƒ¨åˆ†å°è£…åˆ°å‡½æ•°é‡Œ
// let a = 10;
// let b;
// function update() {
// 	b = a + 1;
// 	console.log(b);
// }
// update();
// a = 20;
// update();
/* 
v2æœ‰ä¸ªé—®é¢˜å°±æ˜¯å¿…é¡»æ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨è°ƒç”¨updateå‡½æ•°è¿›è¡Œæ›´æ–°,
ä½†æ˜¯æˆ‘ä»¬å¸Œæœ›çš„æ˜¯å½“aå˜åŒ–æ—¶,bä¹Ÿè·Ÿç€å˜åŒ–. é€šè¿‡vue3çš„reactivityæ¥å®žçŽ°
*/

// v3 reactivity
// npm init -y
// å®‰è£…ä¸€ä¸‹@vue/reactivity
let a = reactive({
	// reactiveå¯¹è±¡é‡Œçš„å±žæ€§æ˜¯å“åº”å¼çš„,æ˜¯å¯¹è±¡ç±»åž‹çš„
	val: 10,
});
let b;
// effectä¸ºä»€ä¹ˆä½¿ç”¨çš„æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼,å› ä¸ºeffecté‡Œé¢çš„å‡½æ•°æ˜¯åœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±æ‰§è¡Œäº†ä¸€æ¬¡,ç„¶åŽå½“ä¾èµ–çš„å€¼å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ä¼šå†æ‰§è¡Œä¸€æ¬¡
effect(() => {
	b = a.val + 10;
	console.log(b);
});
a.val = 20;
